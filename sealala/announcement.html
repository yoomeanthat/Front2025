<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ì”¨ë„ë¼ ì›Œí„°íŒŒí¬ ì‰¬ëŠ”ì‹œê°„ ë°©ì†¡</title>
  <style>
    .image_box {

      position: absolute;
      top: 0px;
      left: 0px;

      width: 150px;
      height: 50px;

      background-image: url('./images/sealalamark.png');
      background-size: contain;
      background-repeat: no-repeat;
      image-rendering: auto;
      /* ë¶€ë“œëŸ¬ìš´ ë Œë”ë§ */
    }

    .top {
      position: relative;
      height: 150px;
      background-color: wheat;

      color: darkgoldenrod;
      text-align: center;
      line-height: 150px;
      font-size: 40px;
      font-weight: bold;
    }

    .top button {
      width: 200px;
      height: 50px;
      position: absolute;
      top: 50px;
      left: 0px;
    }

    .top button:hover {
      box-shadow: 0px 0px 10px 10px rgb(83, 173, 106);
    }

    .middle {
      height: 500px;
      display: flex;
    }

    .middle button {
      width: 170px;
      height: 50px;
      border-radius: 50px;
      font-weight: bold;
      margin-top: 50px;

      cursor: pointer;

      transition: transform 0.5s ease;
    }

    .middle button:hover {
      transform: rotate(360deg);
      box-shadow: 0px 0px 10px 10px rgb(83, 173, 106);
    }

    #custom-alert {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background-color: #ffeb3b;
      color: #333;
      padding: 16px 24px;
      border-radius: 8px;
      font-weight: bold;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      z-index: 9999;
      display: none;
      font-family: sans-serif;
    }

    textarea {
      margin: 20px;
      padding: 10px;
      font-size: 16px;
      font-family: sans-serif;
    }
  </style>

  <script src="https://www.youtube.com/iframe_api"></script>
</head>



<body>

  <iframe id="youtube-player" src="https://www.youtube.com/embed/7hLqc_-NE7s?enablejsapi=1" frameborder="0"
    allow="autoplay" allowfullscreen>
  </iframe>


  <!-- header -->
  <div class="top">ì”¨ë„ë¼ ì›Œí„°íŒŒí¬ ë°©ì†¡ ì‹œìŠ¤í…œ
    <div class="image_box"></div>
    <div id="custom-alert"></div>
    <button onclick="movePage()">ì”¨ë„ë¼ í™ˆí˜ì´ì§€ë¡œ ì´ë™</button>
  </div>

  <!-- íŠ¹ì´ì‚¬í•­ ì¹¸ê³¼  -->
  <div class="middle">
    <textarea cols="50" rows="20" placeholder="íŠ¹ì´ì‚¬í•­ ì ì–´ë‘ê¸° &#10; ex) ë¹„ì›Œì•¼í•  ì“°ë ˆê¸°í†µ,  &#10; ê¸ˆì¼ì˜ ìŒì£¼ê³„íš&#10;"></textarea>
    <button onclick="warning()">ğŸ˜˜ìœ¤ë°° ì‚¬ì§„ ë³´ëŸ¬ê°€ê¸°ğŸ˜˜</button>
    <button onclick="moveGame()">ê°€ìœ„ë°”ìœ„ë³´ ê²Œì„</button>
  </div>




  <script>

    let player;
    function onYouTubeIframeAPIReady() {
      player = new YT.Player('youtube-player');
    }

    function muteYouTube() {
      if (player && typeof player.mute === 'function') {
        player.mute();
      }
    }

    //ë°©ì†¡ ì•Œë¦¼ ë©”ì„œë“œ
    function showAlert(message) {
      const alertBox = document.getElementById('custom-alert');
      alertBox.textContent = message;
      alertBox.style.display = 'block';

      setTimeout(() => {
        alertBox.style.display = 'none';
      }, 3000); // 3ì´ˆ ë’¤ ìˆ¨ê¸°ê¸°
    }


    document.body.addEventListener('ended', () => {
      const audio = new Audio('./musics/breaktime.mp3');
      audio.play();
    });




    //ë°©ì†¡ ë‚˜ì˜¤ëŠ” ë©”ì„œë“œ & ì˜¤ë¥˜ì‹œ ë©”ì„¸ì§€
    function playSound(src, onEndedCallback) {
      const audio = new Audio(src);

      // ìœ íŠœë¸Œ ì˜ìƒ ì¼ì‹œì •ì§€
      if (player && typeof player.pauseVideo === 'function') {
        player.pauseVideo();
      }

      audio.play()
        .then(() => {
          const now = new Date();
          const hours = now.getHours();
          const minutes = now.getMinutes();
          const seconds = now.getSeconds();
          console.log(`ğŸ•’ ì‰¬ëŠ” ì‹œê°„ ë°©ì†¡ ì‹œì‘ ì‹œê° â†’ ${hours}ì‹œ ${minutes}ë¶„ ${seconds}ì´ˆ`);

          // ì˜¤ë””ì˜¤ ëë‚¬ì„ ë•Œ ìœ íŠœë¸Œ ë‹¤ì‹œ ì¬ìƒ
          audio.addEventListener('ended', () => {
            if (player && typeof player.playVideo === 'function') {
              player.playVideo();
            }

            if (onEndedCallback) {
              onEndedCallback();
            }
          });

        })
        .catch(e => console.error("ì˜¤ë””ì˜¤ ì¬ìƒ ì˜¤ë¥˜: ì§ì ‘ ì‹¤í–‰í•˜ì‹œì˜¤", e));
    }


    //ì‹œê°„ í™•ì¸ ë©”ì„œë“œ (UTC+9 ë™ê²½ 135ë„ ë„ì¿„ì‹œ ì‚¬ìš©)
    function checkAndPlaySound() {
      const now = new Date();
      const hours = now.getHours();
      const minutes = now.getMinutes();
      const seconds = now.getSeconds();

      //10ì‹œ ë°©ì†¡
      if (minutes === 36 && seconds === 0 && hours === 2) {
        showAlert("ì‰¬ëŠ” ì‹œê°„ ì‹œì‘!!");
        playSound('musics/breaktime.mp3', () => { });
      }

      //11~16ì‹œ ë°©ì†¡
      if (minutes === 47 && seconds === 0 && hours >= 11 && hours <= 16) {
        showAlert("ì‰¬ëŠ” ì‹œê°„ ì‹œì‘!!");
        playSound('musics/breaktime.mp3', () => {
        });
      }


      //17ì‹œ ì‰¬ëŠ” ì‹œê°„ ë°©ì†¡ ì´í›„ ë§ˆê° ì „ ë°©ì†¡ (ì‰¬ëŠ” ì‹œê°„ ë°©ì†¡ ì´í›„ í˜¸ë£¨ë¼ê¸° ë¶ˆ ì‹œê°„ 6ì´ˆê°€ ìˆìŒ)
      if (minutes === 47 && seconds === 0 && hours === 17) {
        showAlert("ì‰¬ëŠ” ì‹œê°„ ì‹œì‘!!");
        playSound('musics/breaktime.mp3', () => {
        });

      } else if (minutes === 47 && seconds === 35 && hours === 17) {
        showAlert("ë§ˆê° ì „ ë°©ì†¡ ì‹œì‘!!");
        playSound('musics/lastbreaktime.mp3');
        console.log(`ğŸ•’ ë§ˆê°ì „ ë°©ì†¡ ì‹œì‘ ì‹œê° â†’ ${hours}ì‹œ ${minutes}ë¶„ ${seconds}ì´ˆ`);
      }

      // ë§ˆê° ë°©ì†¡(18ì‹œ)
      if (minutes === 37 && seconds === 0 && hours === 18) {
        showAlert("ì´ì  ì•ˆë…• ì‹œì‘!!");
        playSound('musics/goodbye.mp3', () => {
        });

      } else if (minutes === 41 && seconds === 45 && hours === 18) {
        showAlert("í•˜ì´ë¼ì´íŠ¸ ì‹œì‘!!");
        playSound('musics/highlight.mp3');
        console.log(`ğŸ•’ í•˜ì´ë¼ì´íŠ¸ ë°©ì†¡ ì‹œì‘ ì‹œê° â†’ ${hours}ì‹œ ${minutes}ë¶„ ${seconds}ì´ˆ`);
      }
    }

    setInterval(checkAndPlaySound, 1000);


    //ê°¤ëŸ¬ë¦¬ ì´ë™ ê²½ê³  ë©”ì„œë“œ
    function warning() {
      const result = confirm("ğŸ¥µğŸ¥µì•„ëŠ” ì‚¬ëŒì˜ ë‚˜ì²´ë¥¼ ë³¼ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤ ê³„ì† í•˜ì‹œê² ìŠµë‹ˆê¹Œ?ğŸ¥µğŸ¥µ");
      if (result) {
        // ìƒˆ íƒ­ìœ¼ë¡œ ì´ë™
        window.open("./gallerycopy.html", "_blank");
      } else {
        alert("í›Œë¥­í•œ ì„ íƒì…ë‹ˆë‹¤");
      }
    }

    function moveGame() {
      window.open("./rspgame.html", "_blank");
    }


    //í™ˆí˜ì´ì§€ ì´ë™ ë©”ì„œë“œ
    function movePage() {
      alert("í™ˆí˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤");
      window.open("http://www.sealala.com/", "_blank");
    }

  </script>
</body>

</html>